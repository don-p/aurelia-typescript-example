<template>
	<require from="../lib/loading-mask/loading-mask"></require>
	<require from="../components/member-actions-bar"></require>
	<require from="../components/members-table-grid"></require>
	<require from="../components/clear-filter-button"></require>

	<section id="membersTable" class="members-table connections-table">
		
		<div class="members-table-header" id="membersTableHeader">
			${'community.connections.title' | t } (<i class="ico-users"></i> ${gridOptions.api.rowModel.datasource?gridOptions.api.rowModel.datasource.rowCount:0})
		</div>
		
		<member-actions-bar></member-actions-bar>
		
		<div class="members-table-info-bar">

			<div role="status" id="example_info" class="members-table-info">
                <clear-filter-button  grid-options.bind="gridOptions"></clear-filter-button>
				<div if.bind="!showSelectedMembers" class="pull-right" >
					<button disabled.bind="(!isSelectedMembers)" type="button" class="btn btn-filter btn-xs" click.delegate="showSelectedCommunityMembers(true)"><span>${'global.showSelected' | t}</span></button>
				</div>
				<div if.bind="!!(showSelectedMembers)" class="pull-right" >
					<button type="button" class="btn btn-filter btn-xs" click.delegate="showSelectedCommunityMembers(false)"> <span>${'global.showAll' | t}</span></button>
				</div>
				<!--
				<div class="filter-label-text">Applied filters: </div>
				<div class="filter-labels">
					<span class="label label-primary table-label-blg">First Name contans: ALEX <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">State equals: MD <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">Zip starts with: 2 <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">Last Name ends with: EN <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">Title contans: ADMIN <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">City starts with: T <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
				</div>	
				-->		
			</div>
		</div>		
		
		<div class="members-table-content" id="membersTableContent">	
			<members-table-grid 
				grid-id.bind="membersGrid"
				grid-options.bind="gridOptions" 
				grid-ready-func.bind="onGridReady"
				grid-filter-func.bind="onFilterChanged"
				grid-selection-changed-func.bind="onSelectionChanged"
				pagination-page-size.bind="pageSize"
				enable-sorting.bind="true"
				enable-server-side-sorting.bind="true"
				enable-filter.bind="true"
				enable-server-side-filter.bind="true"
				display-columns.bind="['selection','firstName','lastName','organization','title','city','state','zip']"></members-table-grid>
		</div>
		<!--<div class="blg-btns-content panel-footer"></div>										-->

	</section>

</template>
