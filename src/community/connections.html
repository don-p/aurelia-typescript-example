<template>

    <div id="discover-tab" class="blg-tab-section tab-content">
        <div class="blg-inner-content tab-pane active" id="discover">
        
            <div class="conv-buttons-bar">
                <div class="connections-tabs">
                    <span style="float: left;" class="community-select-label">Requests</span>
                    <a style="float: right;" class.bind="requestType == 'PENDING'?'active':''" click.delegate="showRequests('PENDING')">Received</a>
                    <a style="float: right;" class.bind="requestType == 'INVITED'?'active':''" click.delegate="showRequests('INVITED')">Sent</a>
                </div>
            </div>

            <div if.bind="requestType == 'INVITED'" class="blg-connection-content">
                <div class="discover-list">
                    <div class="blg-community-content">
                    <div id="community-list" class="community-list">
                        <ul>
                        <div class="panel-group communities-panel-list list1" id="accordion_communities">
                            <div id="connect-${connection.connectId}" repeat.for="connection of connections" class='list-item'>
                            <div class='panel panel-default'>
                                <div class='panel-heading community-item-head' class.bind="(selectedItem && selectedItem !==null) && (community.communityId == selectedItem.communityId) ? 'active':''"
                                role='tab'>
                                <a class='collapsed' role='button' data-parent='#accordion_communities' href='#collapse${$index}' aria-expanded='false'>
                                    <h4 class='panel-title'>
                                    <span class="community-name">${connection.member.physicalPersonProfile.firstName} ${connection.member.physicalPersonProfile.lastName}</span>
                                    <span class="members-count">(${connection.member.physicalPersonProfile.jobTitle})</span>
                                    <span class='community-buttons'>
                                        <a if.bind="(community.communityOwner.memberId===session.auth.member.memberId)" href="javascript:void(0);" 
                                        click.delegate="deleteCommunity(community, $event)" i18n='[title]button.deleteCommunity'>
                                        <i class="ico-bin float-right"></i>
                                        </a>
                                        <a if.bind="(community.communityOwner.memberId===session.auth.member.memberId)" href="javascript:void(0);" 
                                        click.delegate="transferOwnershipToCommunityMember(community, $event)" i18n='[title]button.transferOwnership'>
                                        <i class="ico-circle-right6 float-right"></i>
                                        </a>                                
                                    </span>
                                    <div class="community-description">${(connection.member.physicalPersonProfile !==null) ? (connection.member.physicalPersonProfile.locationProfile.city + ', ' + connection.member.physicalPersonProfile.locationProfile.stateCode + ' ' + connection.member.physicalPersonProfile.locationProfile.zipCode):'&nbsp;'}</div>                               
                                    </h4>
                                </a>
                                </div>
                            </div>
                            </div>
                        </div>
                        </ul>
                    </div>
                    </div>
                </div>
            </div>
            <div if.bind="requestType == 'PENDING'" class="blg-connection-content">
                <div class="discover-list">
                <div class="blg-community-content">
                    <div id="community-list" class="community-list">
                        <ul>
                        <div class="panel-group communities-panel-list list1" id="accordion_communities">
                            <div id="connect-${connection.connectId}" repeat.for="connection of connections" class='list-item'>
                            <div class='panel panel-default'>
                                <div class='panel-heading community-item-head' class.bind="(selectedItem && selectedItem !==null) && (community.communityId == selectedItem.communityId) ? 'active':''"
                                role='tab'>
                                <a class='collapsed' role='button' data-parent='#accordion_communities' href='#collapse${$index}' aria-expanded='false'>
                                    <h4 class='panel-title'>
                                    <span class="community-name">${connection.member.physicalPersonProfile.firstName} ${connection.member.physicalPersonProfile.lastName}</span>
                                    <span class="members-count">(${connection.member.physicalPersonProfile.jobTitle})</span>
                                    <span class='community-buttons'>
                                        <a if.bind="(community.communityOwner.memberId===session.auth.member.memberId)" href="javascript:void(0);" 
                                        click.delegate="deleteCommunity(community, $event)" i18n='[title]button.deleteCommunity'>
                                        <i class="ico-bin float-right"></i>
                                        </a>
                                        <a if.bind="(community.communityOwner.memberId===session.auth.member.memberId)" href="javascript:void(0);" 
                                        click.delegate="transferOwnershipToCommunityMember(community, $event)" i18n='[title]button.transferOwnership'>
                                        <i class="ico-circle-right6 float-right"></i>
                                        </a>                                
                                    </span>
                                    <div class="community-description">${(connection.member.physicalPersonProfile !==null) ? (connection.member.physicalPersonProfile.locationProfile.city + ', ' + connection.member.physicalPersonProfile.locationProfile.stateCode + ' ' + connection.member.physicalPersonProfile.locationProfile.zipCode):'&nbsp;'}</div>                               
                                    </h4>
                                </a>
                                </div>
                            </div>
                            </div>
                        </div>
                        </ul>
                    </div>
                </div>
            </div>
            </div>
        </div>						
    </div>

</template>