<template>
	<!-- <require from="../components/member-actions-bar.html"></require> -->
	<require from="../lib/loading-mask/loading-mask"></require>
	<require from="../components/member-actions-bar"></require>
	<require from="../components/members-table-grid"></require>

	<section id="membersTable" class="members-table">
		
		<div class="members-table-header" id="membersTableHeader">
			${selectedCmty.communityName} 
		</div>
		
		<member-actions-bar></member-actions-bar>

		<div class="members-table-info-bar">

			<div role="status" id="example_info" class="members-table-info">
				<div class="btn-group pull-right">
					<button disabled.bind="!isGridFiltered" type="button" class="btn btn-filter btn-xs" click.delegate="clearGridFilters(showSelectedCommunitiesGrid?gridOptionsSelected:gridOptions)"><i class="ico-filter4"></i><span>${'global.clearFilters' | t}</span></button>
					<button disabled.bind="!isGridFiltered" type="button" class="btn btn-filter btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span class="caret"></span>
						<span class="sr-only">Toggle Dropdown</span>
					</button>
					<ul class="dropdown-menu" style="font-size: 14px;">
						<li repeat.for="[filterName, filter] of gridOptions.filters">
							<a click.delegate="clearGridFilters(showSelectedCommunitiesGrid?gridOptionsSelected:gridOptions, filterName)" style="padding-top: 3px;padding-left:10px;padding-bottom: 3px;padding-right:32px;" href="#">
								<span style="font-weight:bold;">${filterName | t}:</span> ${filter.filter}
								<i style="right: 0px;margin-right: -24px;top: 3px;" class="ico-cancel-circle2 float-right cancel-request"></i>
							</a>
						</li>
					</ul>
				</div>				
				<div if.bind="!showSelectedMembers" class="pull-right" >
					<button disabled.bind="(!isSelectedMembers) || (selectedMembers.length === 0)" type="button" class="btn btn-filter btn-xs" click.delegate="showSelectedCommunityMembers(true)"><span>${'global.showSelected' | t}</span></button>
				</div>
				<div if.bind="!!(showSelectedMembers)" class="pull-right" >
					<button type="button" class="btn btn-filter btn-xs" click.delegate="showSelectedCommunityMembers(false)"> <span>${'global.showAll' | t}</span></button>
				</div>
<!--
				<div class="filter-label-text">Applied filters: </div>
				<div class="filter-labels">
					<span class="label label-primary table-label-blg">First Name contans: ALEX <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">State equals: MD <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">Zip starts with: 2 <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">Last Name ends with: EN <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">Title contans: ADMIN <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
					<span class="label label-primary table-label-blg">City starts with: T <a href="javascript:void(0);"><i class="ico-cancel-circle2"></i></a></span>
				</div>	
				-->		
			</div>
		</div>		
		
		<div class="members-table-content" id="membersTableContent">	
			<members-table-grid 
				grid-id.bind="membersGrid"
				grid-options.bind="gridOptions" 
				grid-ready-func.bind="onGridReady"
				grid-filter-func.bind="onFilterChanged"
				grid-selection-changed-func.bind="onSelectionChanged"
				pagination-page-size.bind="pageSize"
				enable-sorting.bind="true"
				enable-server-side-sorting.bind="true"
				enable-filter.bind="true"
				enable-server-side-filter.bind="true"
				display-columns.bind="['selection','firstName','lastName','organization','title','city','state','zip']"></members-table-grid>
		</div>
		<!--<div class="blg-btns-content panel-footer"></div>										-->

	</section>

</template>
