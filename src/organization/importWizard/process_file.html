<template>
	<div class="step-container" if.bind="step.stepStatus==='ERROR' && ((step.stepErrors) && step.stepErrors.length>0)">
		<div class="step-message">Processing completed with ${step.stepErrors.length} errors:</div>
		<div class="step-error">
			<div class="step-row" class.bind="error.errorType?'error':''" repeat.for="error of step.stepErrors" >Row ${error.index}: [${error.errorType?'ERROR':'WARNING'}] ${error.errorType?error.errorType:error.warningType}</div>
		</div>
	</div>
	<div class="step-container nodetail" if.bind="step.stepStatus==='ERROR' && (!(step.stepErrors) || step.stepErrors.length===0)">
		<div class="step-message nodetail">Processing failed with a server error.</div>
	</div>
	<div class="step-container" if.bind="step.model.stepStatus==='OK'">
		<div class="step-message">Processing completed successfully with no errors, for ${processResponse.rowCount} member records.</div>
		<div class="step-summary-message">Records added: ${processResponse.resultCount.add}</div>
		<div class="step-summary-message">Records updated: ${processResponse.resultCount.update}</div>
		<div class="step-summary-message">Records deleted: ${processResponse.resultCount.delete}</div>
		<div class="step-summary-message">Records skipped: ${processResponse.resultCount.skip}</div>
		<div class="step-summary-message">Records ignored: ${processResponse.ignoredCount}</div>
	</div>
</template>
