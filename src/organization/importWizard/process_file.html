<template>
	<div class="step-container" if.bind="step.stepStatus==='ERROR' && ((step.stepErrors) && step.stepErrors.length>0)">
		<div class="step-message">${'organization.onboard.processingMessage.errors' | t: {errorCount: step.stepErrors.length}}:</div>
		<div class="step-error">
			<div class="step-row" class.bind="error.errorType?'error':''" repeat.for="error of step.stepErrors" >${'organization.onboard.validationMessage.row' | t} ${error.index}: <span if.bind="error.errorType">[${'organization.onboard.validationMessage.errorType' | t}]</span>
			<span if.bind="!(error.errorType)">[${'organization.onboard.validationMessage.warningType' | t}]</span> ${'organization.onboard.validationMessage.'+(error.errorType?error.errorType:error.warningType) | t}</div>
		</div>
	</div>
	<div class="step-container nodetail" if.bind="step.stepStatus==='ERROR' && (!(step.stepErrors) || step.stepErrors.length===0)">
		<div class="step-message nodetail">${'organization.onboard.processingMessage.serverError' | t}}</div>
	</div>
	<div class="step-container" if.bind="step.model.stepStatus==='OK'">
		<div class="step-message">${'organization.onboard.processingMessage.success' | t: {rowCount: processResponse.rowCount}}</div>
		<div class="step-error">		
			<div class="step-summary-message">${'organization.onboard.processingMessage.added' | t}: ${step.model.processResponse.resultCount.add}</div>
			<div class="step-summary-message">${'organization.onboard.processingMessage.updated' | t}: ${step.model.processResponse.resultCount.update}</div>
			<div class="step-summary-message">${'organization.onboard.processingMessage.deleted' | t}: ${step.model.processResponse.resultCount.delete}</div>
			<div class="step-summary-message">${'organization.onboard.processingMessage.skipped' | t}: ${step.model.processResponse.resultCount.skip}</div>
			<div class="step-summary-message">${'organization.onboard.processingMessage.ignored' | t}: ${step.model.processResponse.ignoredCount}</div>
		</div>
	</div>
</template>
